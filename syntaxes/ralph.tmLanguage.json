{
  "name": "ralph",
  "scopeName": "source.ral",
  "patterns": [
    { "include": "#keywords" },
    { "include": "#types" },
    { "include": "#global" },
    { "include": "#number" },
    { "include": "#constant" }
  ],
  "repository": {
    "operators": {
      "comment": "Note that the order here is very important!",
      "patterns": [
        {
          "match": "(\\*|&)(?=\\w)",
          "name": "keyword.operator.address.ralph"
        },
        {
          "match": "\\-\\-",
          "name": "keyword.operator.decrement.ralph"
        },
        {
          "match": "\\+\\+",
          "name": "keyword.operator.increment.ralph"
        },
        {
          "match": "(==|!=|<=|>=|<(?!<)|>(?!>))",
          "name": "keyword.operator.comparison.ralph"
        },
        {
          "match": "(&&|\\|\\||!)",
          "name": "keyword.operator.logical.ralph"
        },
        {
          "match": "(=|\\+=|\\-=|\\|=|\\^=|\\*=|/=|:=|%=|<<=|>>=|&\\^=|&=)",
          "name": "keyword.operator.assignment.ralph"
        },
        {
          "match": "(\\+|\\-|\\*|/|%)",
          "name": "keyword.operator.arithmetic.ralph"
        },
        {
          "match": "(&(?!\\^)|\\||\\^|&\\^|<<|>>)",
          "name": "keyword.operator.arithmetic.bitwise.ralph"
        },
        {
          "match": "\\.\\.\\.",
          "name": "keyword.operator.ellipsis.ralph"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.ralph",
          "match": "\\b(if|else|while|for|return)\\b"
        },
        {
          "match": "\\b(import)\\b",
          "name": "keyword.import.ralph"
        },
        {
          "match": "\\b(alph)\\b",
          "name": "keyword.alph.ralph"
        },
        {
          "match": "\\b(let|mut|const)\\b",
          "name": "keyword.let.ralph"
        },
        {
          "match": "\\b(fn|pub|payable)\\b",
          "name": "keyword.function.ralph"
        },
        {
          "match": "\\b(extends|Abstract|implements)\\b",
          "name": "keyword.extends.ralph"
        },
        {
          "match": "\\bInterface\\b",
          "name": "keyword.Interface.ralph"
        },
        {
          "match": "\\b(event|emit)\\b",
          "name": "keyword.event.ralph"
        },
        {
          "match": "\\b(@using|using|!)\\b",
          "name": "keyword.annotation.ralph"
        },
        {
          "match": "\\b(struct|TxScript|TxContract|Contract|AssetScript|enum)\\b",
          "name": "keyword.struct.ralph"
        },
        { "include": "#operators" },
        { "include": "#comment-todo" }
      ]
    },
    "types": {
      "patterns": [
        {
          "comment": "numeric types",
          "match": "(?<![A-Za-z])(Bool|I256|U256|Address|ByteVec)\\b",
          "captures": {
            "1": {
              "name": "entity.name.type.numeric.ralph"
            }
          }
        }
      ]
    },
    "constant": {
      "match": "\\b(?:true|false|null|NaN)\\b",
      "name": "constant.language.ralph"
    },
    "number": {
      "patterns": [
        {
          "comment": "handles hexadecimal numbers",
          "match": "(0x)[0-9a-fA-f]*",
          "name": "constant.hex.numeric.ralph"
        },
        {
          "comment": "handles integer and decimal numbers",
          "match": "[+-.]?(?=[1-9]|0(?!\\d))\\d+(\\.\\d+)?([eE][+-]?\\d+)?",
          "name": "constant.dec.numeric.ralph"
        }
      ]
    },
    "comment-todo": {
      "match": "(?i)\\b(FIXME|TODO|CHANGED|XXX|IDEA|HACK|NOTE|REVIEW|NB|BUG|QUESTION|COMBAK|TEMP|SUPPRESS|LINT|\\w+-disable|\\w+-suppress)\\b(?-i)",
      "name": "keyword.comment.todo.ralph"
    },
    "global": {
      "patterns": [
        {
          "include": "#global-variables"
        },
        {
          "include": "#global-functions"
        }
      ]
    },
    "global-variables": {
      "patterns": [
        {
          "match": "\\b(this)\\b",
          "name": "variable.language.this.ralph"
        },
        {
          "match": "\\b(super)\\b",
          "name": "variable.language.super.ralph"
        },
        {
          "match": "\\b(abi)\\b",
          "name": "variable.language.builtin.abi.ralph"
        },
        {
          "match": "\\b(tx\\.origin|tx\\.gasprice|msg\\.data|msg\\.sig|msg\\.value)\\b",
          "name": "variable.language.transaction.security.ralph"
        },
        {
          "match": "\\b(msg\\.sender|msg|block|tx|now)\\b",
          "name": "variable.language.transaction.ralph"
        }
      ]
    },
    "global-functions": {
      "patterns": [
        {
          "match": "\\b(require|assert|revert)\\b",
          "name": "keyword.control.exceptions.ralph"
        },
        {
          "match": "\\b(selfdestruct|suicide)\\b",
          "name": "keyword.control.contract.ralph"
        },
        {
          "match": "\\b(addmod|mulmod|keccak256|sha256|sha3|ripemd160|ecrecover)\\b",
          "name": "support.function.math.ralph"
        },
        {
          "match": "\\b(blockhash|gasleft)\\b",
          "name": "variable.language.transaction.ralph"
        },
        {
          "match": "\\b(type)\\b",
          "name": "variable.language.type.ralph"
        },
        {
          "match": "\\b\\.(send|call|delegatecall|staticcall|callcode|creationCode|runtimeCode)\\b",
          "name": "support.function.transaction.security.ralph"
        },
        {
          "match": "\\b\\.(transfer)\\b",
          "name": "support.function.transaction.ralph"
        }
      ]
    }
  }
}
